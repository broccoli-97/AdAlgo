# 货郎旅游问题（TravelingSalesmanProblem，TSP) 

旅行商问题又叫货郎（优化）问题，是一个经典的组合优化问题。

TSP 可以描述为：一个商品推销员要去若干个城市推销商品，该推销员从一个城市出发，需要经过所有城市后，回到出发地。应如何选择行进路线，以**使总的行程最短**。

从图论的角度来看，该问题实质是在一个带权完全无向图中，找一个权值最小的[哈密顿回路](../GraphTheory/2.html)。

该问题是一个 [NP困难问题](../turing/4.html)，可以通过由[货郎判定问题](#货郎判定问题) [图灵归约](../turing/5.html) 证明。

## NP-hard 证明

设存在 TSP 优化问题求解算法 $A$， 设计 TSP 判定问题的算法如下:

对于给定 TSP 判定问题的实例 $G,d,K$，调用 $A(G, d),$ 求得城市排列:
$C_{\pi_{1}}^{*} C_{\pi_{2}}^{*} \ldots C_{\pi_{m}}^{*}$

若路径长度小于等于 K，即 $\sum_{i=1}^{m} d\left(C_{\pi,}^{*}, c_{\pi_{\mu+}}^{*}\right) \leq K,$ 则回答 Yes，否则回答 $\mathrm{No}$ 。

若算法 $A$ 的时间复杂性是 $O(1)$，则上述算法能够在多项式时间解答。 所以TSP优化问题是NP-hard问题。



# 货郎延伸问题

已知一部分货郎旅游路径，求完整的货郎旅游路径，使得总行程小于 $K$

当一部分货郎旅游路径仅存在起点时，该问题变为货郎判定问题，因此 [货郎判定问题](#货郎判定问题) 可以多项式归约到货郎延伸问题。

现在证明**货郎优化问题**可以图灵归约到该问题，以及**货郎判定问题**可以图灵归约到该问题。

## NP-hard 证明（货郎优化问题图灵归约）

设存在一个货郎延伸问题求解算法


## NP-hard 证明（货郎判定问题图灵归约）



# 货郎判定问题

货郎优化问题可以转变描述，变为一个**判定问题**：一个商品推销员要去若干个城市推销商品，该推销员从一个城市出发，需要经过所有城市后，回到出发地。是否存在一个行进路线，使得其行程小于 $K$ ？

该问题是一个 NPC 类问题，可以通过 [哈密顿回路问题](./hc.html) 归约证明。

该问题同时也可以通过[货郎优化问题](#货郎旅游问题travelingsalesmanproblemtsp) 图灵归约证明 NP-hard。

证明方法为先证明**货郎优化问题可以图灵归约到货郎延伸问题**，再证明**货郎延伸问题可以图灵归约到货郎判定问题**，从而可以根据**归约的传递性**证明货郎优化问题可以图灵归约到货郎判定问题。

